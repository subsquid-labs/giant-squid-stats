module.exports = class Data1677593322595 {
    name = 'Data1677593322595'

    async up(db) {
        await db.query(`CREATE TABLE "sub_processor_task" ("id" character varying NOT NULL, "worker_id" text, "task_name" text NOT NULL, "block_hash" text NOT NULL, "block_height" integer NOT NULL, "timestamp" text NOT NULL, "result" jsonb, "queue_index" integer NOT NULL, "queue_sub_index" integer NOT NULL, "status" character varying(10) NOT NULL, CONSTRAINT "PK_57accaad7b367165b5e165de3f4" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "totals" ("id" character varying NOT NULL, "finalized_blocks" numeric NOT NULL, "total_issuance" numeric NOT NULL, "signed_extrinsics" numeric NOT NULL, "transfers_count" numeric NOT NULL, "holders" integer NOT NULL, "collators_ideal_count" integer, "collators_count" integer, "validators_ideal_count" integer, "validators_count" integer, "current_era" integer, "current_round" integer, "circulating_assets_total" numeric, "staked_value_total" numeric, "staked_value_validator" numeric, "staked_value_collator" numeric, "staked_value_nominator" numeric, "nomination_pools_count_members" integer, "nomination_pools_count_pools" integer, "nomination_pools_total_stake" numeric, CONSTRAINT "PK_3480b9650b4eb64138649f2a416" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_f91ccd19975caf90fdfcc52b73" ON "totals" ("staked_value_validator") `)
        await db.query(`CREATE INDEX "IDX_9d5f71a71a34fffe3d827f9a6b" ON "totals" ("staked_value_collator") `)
        await db.query(`CREATE INDEX "IDX_f029512b4386124e1a3786d647" ON "totals" ("staked_value_nominator") `)
        await db.query(`CREATE INDEX "IDX_4e7f2f3bf7dcbbeb693c032c1b" ON "totals" ("nomination_pools_count_members") `)
        await db.query(`CREATE INDEX "IDX_d7af4a6f118f6c8f3be84f8588" ON "totals" ("nomination_pools_count_pools") `)
        await db.query(`CREATE INDEX "IDX_baced0cad07730e8fe4ff58c45" ON "totals" ("nomination_pools_total_stake") `)
        await db.query(`CREATE TABLE "historical_data_meta" ("id" character varying NOT NULL, "holders_latest_block_number" numeric NOT NULL, "holders_latest_time" TIMESTAMP WITH TIME ZONE, "issuance_latest_block_number" numeric NOT NULL, "issuance_latest_time" TIMESTAMP WITH TIME ZONE, "validators_latest_block_number" numeric NOT NULL, "validators_latest_time" TIMESTAMP WITH TIME ZONE, "staking_latest_block_number" numeric NOT NULL, "staking_latest_time" TIMESTAMP WITH TIME ZONE, "nomination_pools_latest_block_number" numeric NOT NULL, "nomination_pools_latest_time" TIMESTAMP WITH TIME ZONE, CONSTRAINT "PK_5dd7d4f59c6cd7570bf355ef550" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ac7c19b19e7b6997eb1d126fc5" ON "historical_data_meta" ("holders_latest_block_number") `)
        await db.query(`CREATE INDEX "IDX_ca8d6ae12a5ce90839e756a1ac" ON "historical_data_meta" ("holders_latest_time") `)
        await db.query(`CREATE INDEX "IDX_ed58dd6a0801584933a0ffdeaf" ON "historical_data_meta" ("issuance_latest_block_number") `)
        await db.query(`CREATE INDEX "IDX_8f44025add4d37ee569df5309d" ON "historical_data_meta" ("issuance_latest_time") `)
        await db.query(`CREATE INDEX "IDX_f8fdf08040cca73dbc7af8d71f" ON "historical_data_meta" ("validators_latest_block_number") `)
        await db.query(`CREATE INDEX "IDX_6baad7e35211d61553eb3f6c83" ON "historical_data_meta" ("validators_latest_time") `)
        await db.query(`CREATE INDEX "IDX_c31a3b3118d451814bc26695c0" ON "historical_data_meta" ("staking_latest_block_number") `)
        await db.query(`CREATE INDEX "IDX_387409712a008b9b1e0263eba3" ON "historical_data_meta" ("staking_latest_time") `)
        await db.query(`CREATE INDEX "IDX_17cae1ce86ad03a9a598d49401" ON "historical_data_meta" ("nomination_pools_latest_block_number") `)
        await db.query(`CREATE INDEX "IDX_88f1efc28c9c512617d4657101" ON "historical_data_meta" ("nomination_pools_latest_time") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "free" numeric NOT NULL, "reserved" numeric NOT NULL, "total" numeric NOT NULL, "updated_at_block" integer, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "holders" ("id" character varying NOT NULL, "amount" integer NOT NULL, "total_free_balance" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_hash" text NOT NULL, CONSTRAINT "PK_db78e78aa79aa06fd917151e37f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_5acf8ee6a2f31d656fa1492393" ON "holders" ("amount") `)
        await db.query(`CREATE INDEX "IDX_97209a6defe3f6d0202b6c2120" ON "holders" ("total_free_balance") `)
        await db.query(`CREATE INDEX "IDX_e427844cfb263424dd925e6143" ON "holders" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_0e6587e225862e447a0bc704c4" ON "holders" ("block_hash") `)
        await db.query(`CREATE TABLE "issuance" ("id" character varying NOT NULL, "volume" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_hash" text NOT NULL, CONSTRAINT "PK_bb07b4f10059d7d7890e247f1af" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_b0e4e08babcd13ff9bfb92377e" ON "issuance" ("volume") `)
        await db.query(`CREATE INDEX "IDX_28471f7486c4bd2da5650c84f4" ON "issuance" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_c4a5f1d67a82a992f1fa8f069b" ON "issuance" ("block_hash") `)
        await db.query(`CREATE TABLE "nomination_pools" ("id" character varying NOT NULL, "total_pools_count" integer NOT NULL, "total_pools_members" integer NOT NULL, "total_pools_stake" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_hash" text NOT NULL, CONSTRAINT "PK_d17965e609ad0716c650d651c54" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c903641418be9a420ff6785323" ON "nomination_pools" ("total_pools_count") `)
        await db.query(`CREATE INDEX "IDX_411df22ad227f4033ab176c116" ON "nomination_pools" ("total_pools_members") `)
        await db.query(`CREATE INDEX "IDX_feadb3504de3e843bb415b2f5e" ON "nomination_pools" ("total_pools_stake") `)
        await db.query(`CREATE INDEX "IDX_ae77dd1cc09121d9ab051d934d" ON "nomination_pools" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_b047972e9e1c737eb1d3e3578f" ON "nomination_pools" ("block_hash") `)
        await db.query(`CREATE TABLE "validator_collator" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "ideal_count" integer NOT NULL, "count" integer NOT NULL, "block_hash" text NOT NULL, CONSTRAINT "PK_3bc03f20b71f8a50fa2bc4555a7" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_b3de087e15fea293c76898930d" ON "validator_collator" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_4768bd83bc1e937428aefb432d" ON "validator_collator" ("ideal_count") `)
        await db.query(`CREATE INDEX "IDX_95fb9bf1c8b4407a2e515dd5f9" ON "validator_collator" ("count") `)
        await db.query(`CREATE INDEX "IDX_772574a8ff0b95683264fcb65f" ON "validator_collator" ("block_hash") `)
        await db.query(`CREATE TABLE "staked_value" ("id" character varying NOT NULL, "current_era" integer, "current_round" integer, "collators_count" integer, "active_validators" integer, "total_validators" integer, "total_nominators" integer, "inflation_ratio" numeric, "rewards_ratio" numeric, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "total_stake" numeric NOT NULL, "total_stake_storage" numeric, "validator_stake" numeric, "collator_stake" numeric, "nominator_stake" numeric NOT NULL, "block_hash" text NOT NULL, CONSTRAINT "PK_9367623dbb86a6f313128f3e3da" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_69aac368cf8415a05a082f4445" ON "staked_value" ("current_era") `)
        await db.query(`CREATE INDEX "IDX_9b37789a35eb51f3caa7738064" ON "staked_value" ("current_round") `)
        await db.query(`CREATE INDEX "IDX_e9af2c44b360951e995ad7c4a5" ON "staked_value" ("collators_count") `)
        await db.query(`CREATE INDEX "IDX_a26e20b2eb95e89ddabfd451a4" ON "staked_value" ("active_validators") `)
        await db.query(`CREATE INDEX "IDX_5675e276e2d314b5af9a9df3bd" ON "staked_value" ("total_validators") `)
        await db.query(`CREATE INDEX "IDX_3d67a5782f1e2868a6bd65a83d" ON "staked_value" ("total_nominators") `)
        await db.query(`CREATE INDEX "IDX_4c91797378020ebef438477601" ON "staked_value" ("inflation_ratio") `)
        await db.query(`CREATE INDEX "IDX_fe4b4c5d581eedb2cb386524c2" ON "staked_value" ("rewards_ratio") `)
        await db.query(`CREATE INDEX "IDX_c7a294c15bf0f681fb67b81587" ON "staked_value" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_79245fbee38dff23a04174cefe" ON "staked_value" ("total_stake") `)
        await db.query(`CREATE INDEX "IDX_060b42cc6e0326194c322f7884" ON "staked_value" ("total_stake_storage") `)
        await db.query(`CREATE INDEX "IDX_71babf4242c857721ea9304d19" ON "staked_value" ("validator_stake") `)
        await db.query(`CREATE INDEX "IDX_6b36c50efad1a22b0a0f6cc306" ON "staked_value" ("collator_stake") `)
        await db.query(`CREATE INDEX "IDX_1bcf0e3f1208df6582427b701d" ON "staked_value" ("nominator_stake") `)
        await db.query(`CREATE INDEX "IDX_e2ffb7bb1781146df9a9e94b74" ON "staked_value" ("block_hash") `)
        await db.query(`CREATE TABLE "transfer" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_hash" text NOT NULL, "total_volume" numeric NOT NULL, "total_count" integer NOT NULL, CONSTRAINT "PK_fd9ddbdd49a17afcbe014401295" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_70ff8b624c3118ac3a4862d22c" ON "transfer" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_0774176de46f3a8828b06dbf5c" ON "transfer" ("block_hash") `)
        await db.query(`CREATE INDEX "IDX_d38871b7648d1f265dac5cc0d1" ON "transfer" ("total_volume") `)
        await db.query(`CREATE INDEX "IDX_eccf860f253057e9d8d14ea7a4" ON "transfer" ("total_count") `)
        await db.query(`CREATE TABLE "extrinsic" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_hash" text NOT NULL, "total_count" integer NOT NULL, CONSTRAINT "PK_80d7db0e4b1e83e30336bc76755" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_6e232918078798b1fade21dcf8" ON "extrinsic" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_579e39f71ef5f3b2a6839cd70b" ON "extrinsic" ("block_hash") `)
        await db.query(`CREATE INDEX "IDX_7186b6cb739d4f4e89006e519b" ON "extrinsic" ("total_count") `)
    }

    async down(db) {
        await db.query(`DROP TABLE "sub_processor_task"`)
        await db.query(`DROP TABLE "totals"`)
        await db.query(`DROP INDEX "public"."IDX_f91ccd19975caf90fdfcc52b73"`)
        await db.query(`DROP INDEX "public"."IDX_9d5f71a71a34fffe3d827f9a6b"`)
        await db.query(`DROP INDEX "public"."IDX_f029512b4386124e1a3786d647"`)
        await db.query(`DROP INDEX "public"."IDX_4e7f2f3bf7dcbbeb693c032c1b"`)
        await db.query(`DROP INDEX "public"."IDX_d7af4a6f118f6c8f3be84f8588"`)
        await db.query(`DROP INDEX "public"."IDX_baced0cad07730e8fe4ff58c45"`)
        await db.query(`DROP TABLE "historical_data_meta"`)
        await db.query(`DROP INDEX "public"."IDX_ac7c19b19e7b6997eb1d126fc5"`)
        await db.query(`DROP INDEX "public"."IDX_ca8d6ae12a5ce90839e756a1ac"`)
        await db.query(`DROP INDEX "public"."IDX_ed58dd6a0801584933a0ffdeaf"`)
        await db.query(`DROP INDEX "public"."IDX_8f44025add4d37ee569df5309d"`)
        await db.query(`DROP INDEX "public"."IDX_f8fdf08040cca73dbc7af8d71f"`)
        await db.query(`DROP INDEX "public"."IDX_6baad7e35211d61553eb3f6c83"`)
        await db.query(`DROP INDEX "public"."IDX_c31a3b3118d451814bc26695c0"`)
        await db.query(`DROP INDEX "public"."IDX_387409712a008b9b1e0263eba3"`)
        await db.query(`DROP INDEX "public"."IDX_17cae1ce86ad03a9a598d49401"`)
        await db.query(`DROP INDEX "public"."IDX_88f1efc28c9c512617d4657101"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP TABLE "holders"`)
        await db.query(`DROP INDEX "public"."IDX_5acf8ee6a2f31d656fa1492393"`)
        await db.query(`DROP INDEX "public"."IDX_97209a6defe3f6d0202b6c2120"`)
        await db.query(`DROP INDEX "public"."IDX_e427844cfb263424dd925e6143"`)
        await db.query(`DROP INDEX "public"."IDX_0e6587e225862e447a0bc704c4"`)
        await db.query(`DROP TABLE "issuance"`)
        await db.query(`DROP INDEX "public"."IDX_b0e4e08babcd13ff9bfb92377e"`)
        await db.query(`DROP INDEX "public"."IDX_28471f7486c4bd2da5650c84f4"`)
        await db.query(`DROP INDEX "public"."IDX_c4a5f1d67a82a992f1fa8f069b"`)
        await db.query(`DROP TABLE "nomination_pools"`)
        await db.query(`DROP INDEX "public"."IDX_c903641418be9a420ff6785323"`)
        await db.query(`DROP INDEX "public"."IDX_411df22ad227f4033ab176c116"`)
        await db.query(`DROP INDEX "public"."IDX_feadb3504de3e843bb415b2f5e"`)
        await db.query(`DROP INDEX "public"."IDX_ae77dd1cc09121d9ab051d934d"`)
        await db.query(`DROP INDEX "public"."IDX_b047972e9e1c737eb1d3e3578f"`)
        await db.query(`DROP TABLE "validator_collator"`)
        await db.query(`DROP INDEX "public"."IDX_b3de087e15fea293c76898930d"`)
        await db.query(`DROP INDEX "public"."IDX_4768bd83bc1e937428aefb432d"`)
        await db.query(`DROP INDEX "public"."IDX_95fb9bf1c8b4407a2e515dd5f9"`)
        await db.query(`DROP INDEX "public"."IDX_772574a8ff0b95683264fcb65f"`)
        await db.query(`DROP TABLE "staked_value"`)
        await db.query(`DROP INDEX "public"."IDX_69aac368cf8415a05a082f4445"`)
        await db.query(`DROP INDEX "public"."IDX_9b37789a35eb51f3caa7738064"`)
        await db.query(`DROP INDEX "public"."IDX_e9af2c44b360951e995ad7c4a5"`)
        await db.query(`DROP INDEX "public"."IDX_a26e20b2eb95e89ddabfd451a4"`)
        await db.query(`DROP INDEX "public"."IDX_5675e276e2d314b5af9a9df3bd"`)
        await db.query(`DROP INDEX "public"."IDX_3d67a5782f1e2868a6bd65a83d"`)
        await db.query(`DROP INDEX "public"."IDX_4c91797378020ebef438477601"`)
        await db.query(`DROP INDEX "public"."IDX_fe4b4c5d581eedb2cb386524c2"`)
        await db.query(`DROP INDEX "public"."IDX_c7a294c15bf0f681fb67b81587"`)
        await db.query(`DROP INDEX "public"."IDX_79245fbee38dff23a04174cefe"`)
        await db.query(`DROP INDEX "public"."IDX_060b42cc6e0326194c322f7884"`)
        await db.query(`DROP INDEX "public"."IDX_71babf4242c857721ea9304d19"`)
        await db.query(`DROP INDEX "public"."IDX_6b36c50efad1a22b0a0f6cc306"`)
        await db.query(`DROP INDEX "public"."IDX_1bcf0e3f1208df6582427b701d"`)
        await db.query(`DROP INDEX "public"."IDX_e2ffb7bb1781146df9a9e94b74"`)
        await db.query(`DROP TABLE "transfer"`)
        await db.query(`DROP INDEX "public"."IDX_70ff8b624c3118ac3a4862d22c"`)
        await db.query(`DROP INDEX "public"."IDX_0774176de46f3a8828b06dbf5c"`)
        await db.query(`DROP INDEX "public"."IDX_d38871b7648d1f265dac5cc0d1"`)
        await db.query(`DROP INDEX "public"."IDX_eccf860f253057e9d8d14ea7a4"`)
        await db.query(`DROP TABLE "extrinsic"`)
        await db.query(`DROP INDEX "public"."IDX_6e232918078798b1fade21dcf8"`)
        await db.query(`DROP INDEX "public"."IDX_579e39f71ef5f3b2a6839cd70b"`)
        await db.query(`DROP INDEX "public"."IDX_7186b6cb739d4f4e89006e519b"`)
    }
}
